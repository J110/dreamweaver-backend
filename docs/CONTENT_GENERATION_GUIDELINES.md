# Dream Valley — Content Generation Guidelines

> **Purpose**: Ensure every new story, poem, and song is high-quality, unique, diverse, and consistent with the Dream Valley brand. Follow these guidelines whenever generating new content — whether via AI, human writers, or hybrid.

---

## 1. Content Types & Target Lengths

### Word Count Targets (by age group)

| Age Group | Story SHORT | Story MEDIUM | Story LONG | Poem SHORT | Poem MEDIUM | Poem LONG |
|-----------|-------------|--------------|------------|------------|-------------|-----------|
| 0–1       | 30–60       | 60–120       | —          | 20–40      | 40–70       | —         |
| 1–3       | 60–120      | 120–250      | —          | 30–60      | 60–100      | —         |
| 4–5       | 150–250     | 250–500      | 500–800    | 50–80      | 80–130      | 130–200   |
| 6–8       | 200–400     | 400–700      | 700–1200   | 60–100     | 100–180     | 180–300   |
| 8–12      | 300–500     | 500–900      | 900–1500   | 80–130     | 130–220     | 220–400   |
| 12+       | 400–600     | 600–1100     | 1100–2000  | 100–160    | 160–280     | 280–500   |

### Songs
- Verse/chorus structure, 4–8 sections
- Word count comparable to poems of the same age group
- Must have repetitive, singable refrains

### Content Type Distribution Target
Aim for roughly **50% stories, 35% poems, 15% songs** across the full catalog. The current catalog is poem-heavy (60%) — prioritise stories and songs for new batches.

---

## 2. Diversity Matrix — Mandatory Balance

Every batch of new content MUST be checked against these dimensions. The goal is **even representation** so no single culture, gender, setting, or theme dominates.

### 2.1 Themes (11 available — aim for equal coverage)

| Theme | Description | Music Profiles |
|-------|-------------|----------------|
| bedtime | Cozy nighttime, sleep routines | starlight-lullaby, dreamy-clouds |
| animals | Animal characters, nature habitats | forest-night, autumn-forest |
| nature | Forests, seasons, weather, ecosystems | forest-night, moonlit-meadow |
| family | Home, parents, siblings, grandparents | dreamy-clouds, moonlit-meadow |
| ocean | Underwater, marine life, beaches | ocean-drift |
| fantasy | Magic, enchantments, fantasy worlds | enchanted-garden, moonlit-meadow |
| adventure | Quests, journeys, exploration | enchanted-garden, autumn-forest |
| space | Planets, stars, rockets, astronauts | cosmic-voyage |
| friendship | Bonds, teamwork, cooperation | enchanted-garden, autumn-forest |
| mystery | Gentle puzzles, clues, discovery | moonlit-meadow, autumn-forest |
| science | Curiosity, experiments, natural wonders | cosmic-voyage, enchanted-garden |

**Current gaps**: `mystery` and `family` have **zero** representation in the English catalog. Prioritise these.

### 2.2 Character Gender Distribution

| Lead Gender | Target % |
|-------------|----------|
| Female      | 40%      |
| Male        | 40%      |
| Neutral / non-human | 20% |

Count lead characters across each batch and adjust. "Neutral" includes animals, clouds, stars, robots, or stories with no named lead.

### 2.3 Lead Character Entity Type (NEW — Diversity Dimension)

Not every story should have a human lead. Rotate across these entity types to keep the catalog imaginative and diverse:

| Entity Type | Examples | Target % |
|-------------|----------|----------|
| **Human Child/Teen** | Aria, Leo, Priya, Kai | ~30% |
| **Animal (land)** | Fox, tiger cub, tortoise, deer | ~12% |
| **Bird** | Hummingbird, robin, eagle, cuckoo | ~6% |
| **Sea/River Creature** | Seahorse, baby whale, dolphin, otter | ~6% |
| **Insect/Bug** | Firefly, bee, ladybug, caterpillar | ~4% |
| **Plant/Flower/Tree** | Sunflower, lotus, oak tree, fern | ~6% |
| **Celestial Body** | Star, moon, planet, comet | ~6% |
| **Weather/Atmospheric** | Snowflake, raindrop, breeze, wave | ~6% |
| **Mythical Creature** | Dragon, unicorn, phoenix, fairy | ~6% |
| **Everyday Object** | Lantern, teacup, kite, music box | ~6% |
| **Alien/Extraterrestrial** | Friendly alien, space traveler | ~6% |
| **Robot/AI/Machine** | Toy robot, garden robot, repair bot | ~6% |

**Rules**:
- Non-human leads should have personality, emotions, and a distinct voice
- The story should be told from the entity's perspective or centered on its journey
- Non-human characters can still explore human themes (friendship, courage, identity)
- For ages 0-3, animals and simple objects work best. Aliens and complex entities for ages 4+.
- Ensure each entity type gets representation across different themes and age groups

### 2.4 Cultural Representation & Geography

Rotate evenly across these geographies:

| Geography | Examples | Notes |
|-----------|----------|-------|
| **India** | Villages, mountains, festivals, mythology | Names: Arjun, Priya, Ananya, Dev, Meera |
| **East Asia** | Japan, China, Korea — cherry blossoms, origami, temples | Names: Mei, Hana, Kenji, Li, Suki |
| **Africa** | Savanna, rainforest, villages, stargazing | Names: Amara, Kofi, Zuri, Nia, Jabari |
| **Europe** | Castles, countryside, Northern lights, alps | Names: Elara, Finn, Astrid, Luca, Ingrid |
| **Americas** | Jungles, prairies, coasts, ancient temples | Names: Diego, Luna, Nayeli, Rio, Maya |
| **Arctic/Polar** | Ice, tundra, igloos, aurora borealis | Names: Nayak, Siku, Kaya, Nanook |
| **Ocean/Islands** | Tropical islands, coral reefs, atolls | Names: Coral, Moana, Kai, Reef, Isla |

**Rule**: No geography should exceed 25% of the catalog. Each should have at least 10%.

### 2.5 Universe / Era Settings

Rotate across:
- **Contemporary** — modern day, schools, cities, parks
- **Historical** — ancient civilizations, medieval villages, explorers
- **Futuristic** — space stations, robot cities, flying cars
- **Mythological** — gods, legends, magical creatures from real traditions
- **Fantasy realm** — entirely invented magical worlds
- **Prehistoric** — dinosaurs, ancient oceans, cave dwellers

### 2.6 Plot Archetypes

Distribute across:
- **Quest / Journey** — character travels somewhere, learns something
- **Discovery** — character finds something unexpected
- **Friendship / Bonding** — characters connect and help each other
- **Overcoming fear** — character faces a gentle challenge
- **Celebration** — character appreciates what they have

### 2.7 Age Group Coverage

Target roughly equal content per age group:

| Age Group | Label | Target % |
|-----------|-------|----------|
| 0–1 | Baby | 10–15% |
| 1–3 | Toddler | 15–20% |
| 4–5 | Preschool | 20–25% |
| 6–8 | Explorer | 20–25% |
| 8–12 | Adventurer | 15–20% |
| 12+ | Teen | 5–10% |

---

## 3. Writing Quality Standards

### 3.1 Story Structure (for type: "story")

1. **Opening** — Gentle scene-setting. Introduce character and world. Use `[GENTLE]` marker.
2. **Inciting moment** — A discovery, invitation, or gentle challenge.
3. **Rising action** — The journey, exploration, or problem-solving. 1–3 beats.
4. **Climax** — A small but meaningful moment of triumph, connection, or wonder.
5. **Wind-down** — The world settles. Pace slows. Use `[CALM]` then `[SLEEPY]`.
6. **Goodnight close** — Direct address to the listener: "And as you close your eyes..." Use `[WHISPERING]`.

**Every story must**:
- Start gentle, end sleepy
- Have at least one named character with a clear personality
- Include a moral/lesson that emerges naturally (never preachy)
- Resolve positively — every conflict ends in kindness, understanding, or growth
- Use age-appropriate vocabulary (see Section 5)

### 3.2 Poem Structure (for type: "poem")

- **Stanzas**: 4–12 stanzas depending on age group
- **Line length**: 2–4 lines per stanza (couplets or quatrains)
- **Rhyme**: Strongly preferred for ages 0–5. AABB or ABAB patterns.
- **Rhythm**: Consistent meter within a poem. Iambic or trochaic patterns work well.
- **Progression**: Move from active/wondrous imagery → calm/sleepy imagery
- **Final stanza**: Always sleep/dream/goodnight themed

### 3.3 Song Structure (for type: "song")

- **Verse-Chorus pattern**: V1, Chorus, V2, Chorus, V3 (slower), Chorus (whispered)
- **Chorus**: Short, repetitive, singable (4–8 words per line)
- **Melody hints**: Include rhythm cues in the text (syllable patterns)
- **Humming interludes**: Include `[HUMMING]` sections between verses
- **Final verse**: Slower, drowsier version of the melody

### 3.4 Language Quality Checklist

- [ ] No cliches ("once upon a time" is OK sparingly, avoid "lo and behold", "in the blink of an eye")
- [ ] Vivid sensory language — describe how things look, sound, smell, feel
- [ ] Active voice preferred ("The fox leaped" not "The leap was made by the fox")
- [ ] Dialogue feels natural — no stilted or overly formal speech for children
- [ ] Varied sentence length — mix short punchy sentences with flowing descriptions
- [ ] No filler words or padding to hit word counts
- [ ] Title is evocative and unique (not generic like "The Magic Adventure")

---

## 4. Emotion Markers — TTS Annotation Rules

All content must include emotion markers in the `annotated_text` field for TTS generation.

### Available Markers

| Marker | Use For | TTS Effect |
|--------|---------|------------|
| `[GENTLE]` | Soft, tender moments | Warm, natural tone |
| `[CALM]` | Peaceful passages | Even, serene delivery |
| `[EXCITED]` | Action, surprises | Lively, energetic |
| `[CURIOUS]` | Discovery, questions | Interested, wondering |
| `[ADVENTUROUS]` | Bold moments | Confident, brave |
| `[MYSTERIOUS]` | Suspense, secrets | Slow, hushed |
| `[JOYFUL]` | Celebrations, laughter | Bright, warm |
| `[DRAMATIC]` | Climactic tension | Intense delivery |
| `[SLEEPY]` | Wind-down, drowsy | Slow, soft, drowsy |
| `[WHISPERING]` | Secrets, quiet endings | Hushed, intimate |
| `[RHYTHMIC]` | Poem stanzas | Measured, poetic cadence |
| `[SINGING]` | Song verses/choruses | Melodic, sing-song |
| `[HUMMING]` | Song interludes | Soft, melodic humming |
| `[PAUSE]` | Natural break | 800ms silence |
| `[DRAMATIC_PAUSE]` | Before reveals | 1500ms silence |

### Marker Rules by Content Type

**Stories:**
```
[GENTLE] Opening paragraph...

[CALM] Middle narrative...

[EXCITED] Action moment... [DRAMATIC_PAUSE] The reveal!

[CALM] Resolution...

[SLEEPY] Wind-down paragraph...

[WHISPERING] Goodnight close...
```

**Poems:**
```
[RHYTHMIC] [GENTLE] First stanza lines...

[PAUSE]

[RHYTHMIC] [JOYFUL] Second stanza lines...

[PAUSE]

[RHYTHMIC] [SLEEPY] Final stanza lines...
```

**Songs:**
```
[SINGING] Verse 1...

[PAUSE]

[SINGING] [JOYFUL] Chorus...

[HUMMING] (instrumental)

[SINGING] Verse 2...

[SLEEPY] Final verse...
```

### Marker Frequency Guidelines
- **Stories**: 8–15 markers per piece (1 every 2–3 sentences, not every sentence)
- **Poems**: 2–3 markers per stanza (`[RHYTHMIC]` + 1 emotion + `[PAUSE]` after)
- **Songs**: 1 marker per section
- **Never** repeat the same emotion marker consecutively
- **Always** start with `[GENTLE]` (stories) or `[RHYTHMIC]` (poems)
- **Always** end with `[SLEEPY]` or `[WHISPERING]`

---

## 5. Age-Specific Writing Guidelines

### 0–1 years (Baby)
- Pure rhythmic sounds, onomatopoeia, repetitive syllables
- Extremely simple: moon, stars, mama, papa, sleep, hush
- NO plot — just sensory and rhythmic experience
- Very short sentences (3–6 words each)
- Repetition is essential — repeat key phrases 2–3 times
- Rhyming strongly preferred

### 1–3 years (Toddler)
- Very simple words, lots of repetition, short sentences
- Familiar objects: animals, toys, family, food, bedtime
- Simple cause-and-effect ("the bunny was tired, so he closed his eyes")
- Friendly animals as main characters
- Basic emotions only: happy, sleepy, cozy, safe
- No conflict or tension — pure comfort and warmth

### 4–5 years (Preschool)
- Simple vocabulary appropriate for early learners
- Linear plots with clear beginning, middle, end
- Animals, children, or fantasy creatures as characters
- Clear moral lessons woven naturally (not stated explicitly)
- Comfortable resolution — everyone ends up safe and happy

### 6–8 years (Explorer)
- Engaging, descriptive language
- Plot development with character growth
- Mild suspense that resolves positively
- Multiple characters with distinct personalities
- Can explore emotions like worry, loneliness (with positive resolution)
- Themes: friendship, courage, identity, teamwork

### 8–12 years (Adventurer)
- Sophisticated vocabulary and complex sentences
- Rich world-building with vivid settings
- Nuanced character development
- Mythology, legends, science elements
- Characters face real challenges and grow through them

### 12+ years (Teen)
- Mature, layered narratives
- Complex emotions: self-doubt, ambition, purpose
- Philosophical themes woven naturally
- Can include conflict with thoughtful resolution
- Still ends on a calming, hopeful note — it's bedtime!

---

## 6. Safety Requirements (Non-Negotiable)

- **No** violence, scary content, or nightmare-inducing material
- **No** explicit or suggestive content
- **No** advertisements or product placements
- **No** real people or celebrities (positive historical figures OK for 8+)
- **No** excessive darkness or sadness (maintain hopeful tone)
- **No** references to substance abuse, adult themes, or inappropriate language
- **No** death, separation, or danger for under-7 content
- **All** content must be inclusive and free from stereotypes
- **All** cultures must be represented respectfully and authentically
- Focus on positive messages: kindness, courage, curiosity, friendship, self-worth

---

## 7. Technical Requirements

### Required Fields (content.json)

```json
{
  "id": "unique-id",
  "type": "story|poem|song",
  "lang": "en",
  "title": "Unique, Evocative Title",
  "description": "1-2 sentence hook for the card view",
  "text": "Full plain text (no markers)",
  "annotated_text": "Full text with [EMOTION] markers",
  "target_age": 5,
  "age_min": 3,
  "age_max": 7,
  "categories": ["Fantasy", "Friendship", "Bedtime"],
  "theme": "fantasy",
  "morals": ["Kindness opens doors", "Everyone has something to offer"],
  "word_count": 250,
  "author_id": "system",
  "is_generated": true,
  "generation_quality": "pending_review"
}
```

### Text Formatting Rules (for TTS compatibility)
- Separate paragraphs with `\n\n` (double newline)
- Each paragraph = one TTS chunk. Keep paragraphs under 200 words.
- Emotion markers go at the START of a paragraph or sentence, never mid-word
- No special characters that could confuse TTS: avoid `*`, `#`, `—` (use ` - ` instead)
- Spell out numbers for ages 0–5 ("three" not "3")
- Avoid excessive ellipsis (...) — use `[PAUSE]` or `[DRAMATIC_PAUSE]` instead
- Onomatopoeia is fine but keep it simple and spell it phonetically

### Audio Generation Specs
- 7 voice variants per story: female_1, female_2, female_3, male_1, male_2, male_3, asmr
- Audio: 256kbps MP3, 24kHz, -16 dBFS normalisation
- Speed: 0.8x (bedtime pace)
- Fade: 500ms in, 1500ms out
- Paragraph pause: 1000ms between paragraphs

---

## 8. Anti-Duplication Checklist

Before finalising any new content, verify:

- [ ] **Title** is unique — does not match or closely resemble any existing title
- [ ] **Plot** is distinct — not a rewrite of an existing story with different names
- [ ] **Character names** are not reused from the existing catalog (check Section 2.3)
- [ ] **Setting** is not the same combination of geography + era as another story in the same theme
- [ ] **Opening line** is unique — doesn't start the same way as another piece
- [ ] **Moral/lesson** is not identical to another story's moral

### Existing Character Names (DO NOT REUSE)
Nimbus, Flicker, Clover, Captain Stardust, Nebula, Flash, Maya, Moonbeam, Wave, Bella, Arjun, Pepper, Luna, Sage, River, Amara, Nayeli, Mayura, Nayak, Mei, Hana, Kenji, Taro, Coral, Diego

---

## 9. Quality Review Checklist

Before any content goes to audio generation:

### Content Quality
- [ ] Reads naturally aloud (read it out loud yourself)
- [ ] Age-appropriate vocabulary and concepts
- [ ] Engaging from the first sentence
- [ ] Satisfying ending that induces sleepiness
- [ ] No awkward phrasing or unnatural dialogue
- [ ] Moral emerges from the story, not stated as a lecture

### Diversity Check
- [ ] Theme not over-represented in current catalog
- [ ] Character gender balanced across batch
- [ ] Geography/culture not over-represented
- [ ] Age group has adequate content

### Technical Check
- [ ] All required JSON fields present
- [ ] Word count within target range for age group
- [ ] Emotion markers correctly placed (start=[GENTLE], end=[SLEEPY])
- [ ] No consecutive duplicate markers
- [ ] Paragraphs separated by `\n\n`
- [ ] Plain text (`text`) matches annotated text minus markers

### Post-Audio QA
- [ ] Run `scripts/qa_audio.py --lang en --no-quality-score` on generated audio
- [ ] All variants PASS fidelity check (combined score >= 0.70)
- [ ] Duration outliers investigated (>15% from median = WARN)
- [ ] Manual listen to at least 1 voice variant per story
- [ ] Verify emotion markers are audibly reflected in voice changes

---

## 10. Batch Generation Workflow

1. **Plan the batch**: Decide how many pieces, which age groups, themes, geographies
2. **Fill the diversity matrix**: Ensure even coverage before writing begins
3. **Generate content**: Use `generate_content_matrix.py` or write manually
4. **Review & edit**: Apply Quality Review Checklist (Section 9)
5. **Add to content.json**: With all required fields
6. **Generate audio**: Run `generate_audio.py` for all 7 voice variants
7. **QA audio**: Run `qa_audio.py` to verify transcription fidelity
8. **Fix failures**: Regenerate any FAIL variants after fixing source text
9. **Update seedData.js**: Add entries for the web frontend
10. **Deploy**: Push to main, verify on Vercel

---

## Appendix A: Current Catalog Snapshot (English)

| # | Title | Type | Theme | Age | Lead Gender | Geography |
|---|-------|------|-------|-----|-------------|-----------|
| 1 | The Sleepy Cloud | story | dreamy | 2-6 | neutral | Universal |
| 2 | The Brave Little Firefly | story | adventure | 3-7 | neutral | Universal |
| 3 | The Moon's Lullaby | story | fairy_tale | 1-5 | neutral | Universal |
| 4 | Captain Stardust and the Comet Race | story | space | 5-9 | female | Universal |
| 5 | The Garden of Whispers | story | fantasy | 6-10 | female | Universal |
| 6 | Twinkle Dream | poem | dreamy | 1-5 | — | Universal |
| 7 | The Owl's Goodnight | poem | animals | 0-4 | neutral | Universal |
| 8 | Sailing to Dreamland | song | dreamy | 2-6 | — | Universal |
| 9 | Moonbeam's Ocean Friend | story | ocean | 0-1 | neutral | Universal |
| 10 | Bella's Soft Petal Bed | story | nature | 0-1 | neutral | Universal |
| 11 | Arjun's Flying Robot Friend | poem | fantasy | 1-3 | male | India |
| 12 | Pepper's Garden Light | poem | bedtime | 1-3 | neutral | Universal |
| 13 | The Forest's Digital Symphony | poem | nature | 12-18 | female | Americas |
| 14 | Amara and the Star-Song Celebration | poem | science | 12-18 | female | Africa |
| 15 | Nayeli's Arctic School Discovery | poem | animals | 4-5 | female | Arctic |
| 16 | Arjun's Magic Peacock Feather | poem | fantasy | 4-5 | male | India |
| 17 | Nayak and the Forgotten Ice Garden | poem | nature | 6-8 | male | Arctic |
| 18 | Mei and the Moonlit Origami Festival | poem | friendship | 6-8 | female | East Asia |
| 19 | Coral's Journey Through the Healing Tides | poem | science | 8-12 | female | Ocean |
| 20 | Diego and the Star Map of the Ancient Temple | poem | space | 8-12 | male | Americas |

### Current Gaps to Fill
- **Themes**: mystery (0), family (0), bedtime (1), adventure (1), ocean (1)
- **Types**: songs (1 only), stories (7 — need more)
- **Geographies**: Europe (0), Ocean/Islands (1)
- **Age groups**: 12+ has only 2 pieces
- **Lead genders**: Female-heavy (7F vs 4M) — need more male & neutral leads
